const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FormContainer-DJ2_9kYL.js","assets/index-CcgwBqJ8.js","assets/index-CHYqi3PZ.css","assets/InputField-DS0_v7lA.js","assets/SubmitButton-Dm2xpmSJ.js"])))=>i.map(i=>d[i]);
import{f as C,r as s,j as r,R as m,_ as g,g as S}from"./index-CcgwBqJ8.js";import{z as n}from"./index-mSkvzYyn.js";import{r as T}from"./repo-BcJvpRJZ.js";const I=m.lazy(()=>g(()=>import("./FormContainer-DJ2_9kYL.js"),__vite__mapDeps([0,1,2]))),d=m.lazy(()=>g(()=>import("./InputField-DS0_v7lA.js"),__vite__mapDeps([3,1,2]))),L=m.lazy(()=>g(()=>import("./SubmitButton-Dm2xpmSJ.js"),__vite__mapDeps([4,1,2]))),F=()=>{const j=C(),[i,f]=s.useState(""),[c,p]=s.useState(""),[w,v]=s.useState(""),[E,P]=s.useState(null),[R,h]=s.useState(null),[y,l]=s.useState(!1),[u,_]=s.useState({}),[t,a]=s.useState({}),k=n.object({username:n.string().min(3,"Legalább 3 karakter"),password:n.string().min(6,"Legalább 6 karakter"),confirmPassword:n.string()}).refine(e=>e.password===e.confirmPassword,{message:"Nem egyeznek a jelszavak!",path:["confirmPassword"]}),z=async e=>{e.preventDefault(),P(null),h(null),l(!0),a({username:!0,password:!0,confirmPassword:!0});const b=k.safeParse({username:i,password:c,confirmPassword:w});if(!b.success){const o={};b.error.issues.forEach(x=>{o[x.path[0]]=x.message}),_(o),l(!1);return}try{await T(i,c),h("Sikeres Regiszráció!"),S.success("Sikeres regisztráció!"),f(""),p(""),v(""),_({}),a({}),j({to:"/login"})}catch(o){P(o instanceof Error?o.message:"Registration failed"),S.error("Nems sikerült a regisztráció!")}finally{l(!1)}};return r.jsx(s.Suspense,{children:r.jsx("div",{children:r.jsx("div",{className:"max-w-2xl mx-auto items-center h-screen pb-55 pt-30 justify-center overflow-hidden",children:r.jsx(I,{error:E,success:R,label:"Register",children:r.jsxs("form",{onSubmit:z,className:"space-y-4",children:[r.jsx(d,{label:"Username",value:i,onChange:e=>{f(e.target.value),a({...t,username:!0})},error:t.username?u.username:void 0}),r.jsx(d,{label:"Password",value:c,onChange:e=>{p(e.target.value),a({...t,password:!0})},enablePasswordToggle:!0,error:t.password?u.password:void 0}),r.jsx(d,{label:"Confirm Password",value:w,onChange:e=>{v(e.target.value),a({...t,confirmPassword:!0})},enablePasswordToggle:!0,error:t.confirmPassword?u.confirmPassword:void 0}),r.jsx(L,{isPending:y,label:"Register"})]})})})})})};export{F as R};
