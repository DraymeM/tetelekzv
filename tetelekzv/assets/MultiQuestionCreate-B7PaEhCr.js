const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MultiQuestionForm-BQf4zJQB.js","assets/index-DNiFvfeI.js","assets/index-BvcWFGXJ.css","assets/types-CZYGTQuY.js"])))=>i.map(i=>d[i]);
import{u as x,f,e as g,r as o,y as l,j as e,S as p,R as j,_ as h}from"./index-DNiFvfeI.js";import{u as v}from"./useMutation-Xzz3cmAe.js";import{k}from"./repo-06h-nJQE.js";import{O as y}from"./OfflinePlaceholder-Bql1SMz_.js";import{u as M}from"./useOnlineStatus-CDr2juVZ.js";import{P as N}from"./PageTransition-Xf4wLMEY.js";const z=j.lazy(()=>h(()=>import("./MultiQuestionForm-BQf4zJQB.js"),__vite__mapDeps([0,1,2,3]))),E=()=>{const{id:i}=x({strict:!1}),r=Number(i),u=f(),c=g(),[m,n]=o.useState(!1),d=M(),a=v({mutationFn:s=>k({question:s.question,answers:s.answers.map(t=>({text:t.text,isCorrect:t.isCorrect}))},r),onMutate:()=>n(!0),onSuccess:()=>{c.invalidateQueries({queryKey:["tetelQuestions",r]}),l.success("Kérdés létrehozva!"),setTimeout(()=>{u({to:"/tetelek/$id/questions",params:{id:i??""}}),n(!1)},200)},onError:s=>{const t=s?.response?.data?.error||"Nem sikerült a kérdés létrehozása!";l.error(t),console.error("Error creating question:",t,s),n(!1)}});return d?!i||isNaN(r)||r<=0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-center mt-10 text-red-500",children:"Érvénytelen tétel ID"})}):e.jsx(e.Fragment,{children:e.jsxs(N,{children:[m&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:e.jsx(p,{})}),e.jsx(o.Suspense,{children:e.jsx("div",{className:"max-w-4xl mx-auto items-center mt-10",children:e.jsx(z,{onSubmit:a.mutate,isPending:a.isPending,submitLabel:"Kérdés Létrehozása",formLabel:"Új Felelet Választós Kérdés",successMessage:a.isSuccess?"Kérdés létrehozva!":null,errorMessage:a.error?"Nem sikerült a kérdés létrehozása":null})})})]})}):e.jsx(y,{})};export{E as M};
