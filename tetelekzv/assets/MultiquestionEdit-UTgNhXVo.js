const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MultiQuestionForm-Crif5tIA.js","assets/index-DNhYfZVa.js","assets/index-5GsZzLaf.css","assets/types-CZYGTQuY.js"])))=>i.map(i=>d[i]);
import{u as f,f as x,e as y,r as a,y as u,j as e,S as p,R as Q,_ as g}from"./index-DNhYfZVa.js";import{u as j}from"./useQuery-B90wnf1T.js";import{u as q}from"./useMutation-DFJrYgeH.js";import{j as v,g as k}from"./repo-I0R3ESGW.js";import{O as M}from"./OfflinePlaceholder-BfCSPmJv.js";import{u as b}from"./useOnlineStatus-CFArgxL8.js";import{P as h}from"./PageTransition-CKedCoC9.js";const P=Q.lazy(()=>g(()=>import("./MultiQuestionForm-Crif5tIA.js"),__vite__mapDeps([0,1,2,3]))),z=()=>{const{id:o}=f({from:"/tetelek/$id/questions/$qid"}),s=Number(o),l=x(),t=y(),[m,n]=a.useState(!1),c=b(),{data:r}=j({queryKey:["multiQuestions",s],queryFn:()=>k(s),enabled:!isNaN(s)}),i=q({mutationFn:d=>v(s,d),onMutate:()=>n(!0),onSuccess:()=>{t.invalidateQueries({queryKey:["multiQuestion",s]}),t.invalidateQueries({queryKey:["multiQuestions"]}),t.invalidateQueries({queryKey:["tetelQuestions"]}),u.success("Kérdés frissítve!"),setTimeout(()=>l({to:`/tetelek/$id/questions/${s}`}),2e3)},onError:()=>{u.error("Nem sikerült frissíteni a kérdést."),n(!1)}});return c?e.jsx(e.Fragment,{children:e.jsxs(h,{children:[m&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:e.jsx(p,{})}),e.jsx(a.Suspense,{children:e.jsx("div",{className:"max-w-4xl mx-auto mt-10",children:e.jsx(P,{onSubmit:i.mutate,isPending:i.isPending,initialQuestion:r?.question,initialAnswers:r?.answers,submitLabel:"Mentés",formLabel:"Kérdés szerkesztése",successMessage:i.isSuccess?"Kérdés sikeresen frissítve!":null})})})]})}):e.jsx(e.Fragment,{children:e.jsx(M,{})})};export{z as M};
