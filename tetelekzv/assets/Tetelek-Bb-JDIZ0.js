const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardLink-BPpDs2oh.js","assets/index-DL7jmjce.js","assets/index-BCRzkpFY.css"])))=>i.map(i=>d[i]);
import{u as p,b as g,r as a,j as e,O as b,S as v,R as N,a as k,d as y,_ as P}from"./index-DL7jmjce.js";import{u as w}from"./useQuery-_mFiLXuZ.js";import{f as L}from"./repo-mML4AvjK.js";import{P as _}from"./PageTransition-B0taeK5L.js";import{L as F,P as m}from"./PaginationControls-BmHJwOLS.js";import{O}from"./OfflinePlaceholder-BMvq1OyA.js";const S=N.lazy(()=>P(()=>import("./CardLink-BPpDs2oh.js"),__vite__mapDeps([0,1,2])));function D(){const{id:o}=p({strict:!1}),{isAuthenticated:x}=g(),u=!o,[r,n]=a.useState(1),[s,h]=a.useState(35),{data:d,isLoading:f,error:l}=w({queryKey:["tetelek",r,s],queryFn:()=>L({page:r,limit:s}),enabled:u,refetchOnWindowFocus:!1});if(o)return e.jsx(b,{});if(f)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-10 text-center",children:e.jsx(v,{})})});if(l)return navigator.onLine?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-10 text-red-500 text-center",children:["Hiba történt: ",l.message]})}):e.jsx(e.Fragment,{children:e.jsx(O,{})});const c=d?.data??[],i=d?.total??0;return e.jsx("div",{className:"text-center pt-20",children:e.jsxs(a.Suspense,{children:[e.jsxs(_,{children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Tételek"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between md:gap-4 px-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 mx-auto",children:e.jsx(F,{limit:s,setLimit:t=>{n(1),h(t)}})}),e.jsx("div",{className:"flex-grow flex justify-center mx-auto md:mr-8",children:e.jsx(m,{page:r,setPage:n,total:i,limit:s})}),e.jsxs("div",{className:"flex-shrink-0 mx-auto p-2 text-foreground bg-secondary rounded-md shadow-lg text-sm",children:["Összes: ",e.jsx("span",{className:"text-primary font-bold",children:i})]})]}),e.jsx("div",{className:"min-h-[60dvh]",children:c.length===0?e.jsx("p",{className:"p-4 bg-secondary shadow-md rounded-md transition text-foreground duration-300 border-transparent hover:border-muted-foreground border-2 cursor-pointer transform",children:"Nincsenek tételek még."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mx-2 mb-8",children:c.map((t,j)=>e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"rounded-md border-2 border-transparent bg-secondary p-5 shadow-sm min-h-[85px] animate-pulse"}),children:e.jsx(S,{id:j+1,title:t.name,to:`/tetelek/${t.id}`})},t.id))})}),e.jsx(m,{page:r,setPage:n,total:i,limit:s})]}),x&&e.jsx(k,{to:"/tetelcreate",className:"fixed bottom-7 right-7 p-3 bg-emerald-600 text-white rounded-full hover:bg-green-700 transition-all transform hover:scale-105 flex items-center justify-center",title:"Adj hozzá saját tételt",children:e.jsx(y,{size:20})})]})})}export{D as T};
