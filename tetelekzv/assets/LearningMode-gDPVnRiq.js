const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlashCard-CmuoGpcG.js","assets/index-DNiFvfeI.js","assets/index-BvcWFGXJ.css","assets/CardDeck-CDyYe6ik.js","assets/RatingIcons-BcOmsqBA.js","assets/CardControls-BDj3EmmL.js","assets/BottomControls-CSxw3uqt.js","assets/Tutorial-KynktMGu.js","assets/index-CxfY1VHi.js"])))=>i.map(i=>d[i]);
import{r as e,j as t,b9 as _,S as b,_ as m}from"./index-DNiFvfeI.js";import{I as f}from"./index-CxfY1VHi.js";import{P as v}from"./PageTransition-Xf4wLMEY.js";function j(r){const[a,s]=e.useState(new Map),d=(o,n)=>{s(l=>{const i=new Map(l);return i.set(o,n),i})},x=o=>a.has(o)?a.get(o):null,u=e.useMemo(()=>{const o=Array.from({length:r},(n,l)=>l);return o.sort((n,l)=>{const i=a.get(n)??-1,c=a.get(l)??-1;return i-c}),o},[a,r]);return{ratings:Object.fromEntries(a),rateCard:d,getRating:x,sortedIndexes:u}}const y=[{title:"Kártyapakli",content:"Kattints egy kártyára a fókuszhoz. Kattints még egyszer a kiválasztáshoz.",selector:"#card-deck"},{title:"Aktív kártya",content:"Ez a kártya jelenik meg nagyban. Itt látod a kérdést és a választ.",selector:"#active-card"},{title:"Vissza rak gomb",content:"Ez a gomb vissza rakja az aktív kártyát a pakliba.",selector:"#put-back-button"},{title:"Értékelés",content:"Értékeld a kártyát tapasztalatod szerint. Az értékelés befolyásolja a sorrendet.",selector:"#card-controls"},{title:"Navigáció",content:"Következőre kattintva a következő kártyára lépsz. A 'Tételhez' gombbal kiléphetsz.",selector:"#bottom-controls"}],I=e.lazy(()=>m(()=>import("./FlashCard-CmuoGpcG.js"),__vite__mapDeps([0,1,2]))),E=e.lazy(()=>m(()=>import("./CardDeck-CDyYe6ik.js"),__vite__mapDeps([3,1,2,4]))),S=e.lazy(()=>m(()=>import("./CardControls-BDj3EmmL.js"),__vite__mapDeps([5,1,2,4]))),C=e.lazy(()=>m(()=>import("./BottomControls-CSxw3uqt.js"),__vite__mapDeps([6,1,2]))),R=e.lazy(()=>m(()=>import("./Tutorial-KynktMGu.js"),__vite__mapDeps([7,1,2,8]))),P=({questions:r,onExit:a})=>{const[s,d]=e.useState(r.length>0?0:null),[x,u]=e.useState(r.length>0?0:null),[o,n]=e.useState(!1),{rateCard:l,getRating:i,sortedIndexes:c}=j(r.length),k=()=>{d(null),u(null)},p=()=>{const h=s??-1,z=c.find(g=>g>h)??c.find(g=>g!==h)??c[0];d(z),u(z)};return t.jsx(t.Fragment,{children:t.jsxs(e.Suspense,{fallback:t.jsx(b,{}),children:[t.jsx(v,{children:t.jsxs("div",{className:"flex flex-col items-center gap-6",children:[t.jsx(E,{id:"card-deck",questions:r,sortedIndexes:c,selectedIdx:s,focusedIdx:x,getRating:i,setFocusedIdx:u,setSelectedIdx:d}),s!==null&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{id:"put-back-button",onClick:k,className:"inline-flex hover:cursor-pointer items-center px-3 py-2 border border-border rounded-md text-sm font-medium text-muted-foreground hover:bg-muted hover:text-foreground transition",title:"Vissza rak",children:[t.jsx(f,{className:"mr-2",style:{transform:"rotate(-90deg)"}}),"Vissza rak"]}),t.jsx(I,{id:"active-card",question:r[s].question,answer:r[s].answer}),t.jsx(S,{id:"card-controls",selectedIdx:s,rateCard:l,putBackToDeck:k,handleNext:p})]}),t.jsx(C,{id:"bottom-controls",onExit:a,showNext:s!==null,handleNext:p})]})}),t.jsx("button",{className:"fixed top-20 right-7 p-3 bg-blue-600 hover:cursor-pointer text-white rounded-full hover:bg-blue-700 transition-all transform hover:scale-105 z-50",onClick:()=>n(!0),title:"Segítség a használathoz",children:t.jsx(_,{size:20})}),t.jsx(R,{open:o,onClose:()=>n(!1),steps:y})]})})};export{P as default};
