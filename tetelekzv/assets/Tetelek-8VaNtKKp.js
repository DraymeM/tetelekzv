const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardLink-DJ5dYWbb.js","assets/index-234tk97H.js","assets/index-BWeBI0VN.css"])))=>i.map(i=>d[i]);
import{b as p,d as b,r as o,j as e,O as v,S as x,R as N,a as k,e as P,_ as y}from"./index-234tk97H.js";import{u as L}from"./useQuery-hJfDrL_Q.js";import{N as a}from"./Navbar-BAvcHIJV.js";import{f as _}from"./repo-BQTa5ysD.js";import{P as w}from"./PageTransition-C9xzzT-N.js";import{L as F,P as u}from"./PaginationControls-BYau2aTa.js";import{O as T}from"./OfflinePlaceholder-CStZOowY.js";const O=N.lazy(()=>y(()=>import("./CardLink-DJ5dYWbb.js"),__vite__mapDeps([0,1,2])));function C(){const{id:d}=p({strict:!1}),{isAuthenticated:f}=b(),h=!d,[r,i]=o.useState(1),[t,j]=o.useState(35),{data:l,isLoading:g,error:c}=L({queryKey:["tetelek",r,t],queryFn:()=>_({page:r,limit:t}),enabled:h,staleTime:1e3*60*5,refetchOnWindowFocus:!1});if(d)return e.jsx(v,{});if(g)return e.jsxs(e.Fragment,{children:[e.jsx(a,{}),e.jsx("div",{className:"p-10 text-center",children:e.jsx(x,{})})]});if(c)return navigator.onLine?e.jsxs(e.Fragment,{children:[e.jsx(a,{}),e.jsxs("div",{className:"p-10 text-red-500 text-center",children:["Hiba történt: ",c.message]})]}):e.jsxs(e.Fragment,{children:[e.jsx(a,{}),e.jsx(T,{})]});const m=l?.data??[],n=l?.total??0;return e.jsxs("div",{className:"text-center pt-20",children:[e.jsx(a,{}),e.jsxs(o.Suspense,{fallback:e.jsx(x,{}),children:[e.jsxs(w,{children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Tételek"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between md:gap-4 px-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 mx-auto",children:e.jsx(F,{limit:t,setLimit:s=>{i(1),j(s)}})}),e.jsx("div",{className:"flex-grow flex justify-center mx-auto md:mr-8",children:e.jsx(u,{page:r,setPage:i,total:n,limit:t})}),e.jsxs("div",{className:"flex-shrink-0 px-2 mx-auto text-muted-foreground text-sm",children:["Összes: ",n]})]}),e.jsx("div",{className:"min-h-[60dvh]",children:m.length===0?e.jsx("p",{className:"p-4 bg-secondary shadow-md rounded-md transition text-foreground duration-300 border-transparent hover:border-muted-foreground border-2 cursor-pointer transform",children:"Nincsenek tételek még."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mx-2 mb-8",children:m.map(s=>e.jsx(O,{id:s.id,title:s.name,to:`/tetelek/${s.id}`},s.id))})}),e.jsx(u,{page:r,setPage:i,total:n,limit:t})]}),f&&e.jsx(k,{to:"/tetelcreate",className:"fixed bottom-7 right-7 p-3 bg-emerald-600 text-white rounded-full hover:bg-green-700 transition-all transform hover:scale-105 flex items-center justify-center",title:"Adj hozzá saját tételt",children:e.jsx(P,{size:20})})]})]})}export{C as T};
