import{r as f,j as e}from"./index-CER22xXb.js";import{I as j}from"./_id-hPIJhGJh.js";import"./useLocation-GIBV1gM2.js";import"./useQuery-ClIWZxr4.js";import"./useMutation-BrtTyzDf.js";import"./Navbar-BSj_z4Ms.js";import"./index-CzrsLl1v.js";import"./index-CoTU-FEG.js";import"./repo-SNFxIZbT.js";import"./DeleteModal-CQL_98e-.js";import"./PageTransition-CKW7IJG5.js";import"./OfflinePlaceholder-DQdTLBPT.js";import"./menu-N2BgN8aE.js";import"./use-resolve-button-type-1f-oRt6N.js";import"./bugs-C2vnelg7.js";import"./label-zDOdfelT.js";const K=({open:p,onClose:g,steps:l})=>{const[r,c]=f.useState(0),[t,x]=f.useState(null),i=10,m=320,h=140,o=50;if(f.useEffect(()=>{if(!p){c(0),x(null);return}const s=document.querySelector(l[r]?.selector||"");x(s?s.getBoundingClientRect():null)},[r,p,l]),!p||!t)return null;const b=t.top;let a=0,d="down";b>h+o+i?(a=t.top-i-h-o,d="down"):(a=t.bottom+i+o,d="up");let n=t.left;n+m>window.innerWidth-i&&(n=window.innerWidth-m-i),n<i&&(n=i);let u=t.left+t.width/2-n-o/2;u=Math.min(Math.max(u,o),m-o*2);const w={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.6)",pointerEvents:"auto",zIndex:99998,clipPath:`polygon(
      0 0,
      100% 0,
      100% 100%,
      0 100%,
      0 0,
      ${t.left}px ${t.top}px,
      ${t.right}px ${t.top}px,
      ${t.right}px ${t.bottom}px,
      ${t.left}px ${t.bottom}px,
      ${t.left}px ${t.top}px
    )`};return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:w,"aria-hidden":"true"}),e.jsxs("div",{className:"fixed z-[99999] w-[320px] rounded-xl bg-secondary text-foreground shadow-2xl p-4 font-sans",style:{top:a,left:n},children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:l[r].title}),e.jsx("p",{className:"text-sm mb-4",children:l[r].content}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("button",{onClick:g,className:"px-3 py-1 rounded bg-rose-700 hover:bg-rose-800 text-sm",children:"Kilépés"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:r===0,onClick:()=>c(s=>Math.max(s-1,0)),className:`px-3 py-1 rounded text-sm border border-gray-500 ${r===0?"opacity-50 cursor-not-allowed":"hover:bg-muted hover:cursor-pointer"}`,children:"Előző"}),e.jsx("button",{onClick:()=>{r===l.length-1?g():c(s=>s+1)},className:"px-3 py-1 rounded hover:cursor-pointer bg-blue-600 hover:bg-blue-700 text-white text-sm",children:r===l.length-1?"Befejezés":"Következő"})]})]})]}),e.jsx("div",{className:`fixed z-[99999] text-foreground  ${d==="down"?"-rotate-90":"rotate-90"}`,style:{top:d==="down"?a+h:a-o,left:n+u,fontSize:`${o}px`},children:e.jsx(j,{size:o})})]})};export{K as default};
