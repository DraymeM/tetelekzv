import{r as u}from"./index-BrSagbY1.js";function q(R,e,c){var b=this,i=u.useRef(null),f=u.useRef(0),t=u.useRef(null),a=u.useRef([]),o=u.useRef(),l=u.useRef(),A=u.useRef(R),s=u.useRef(!0);A.current=R;var x=typeof window<"u",v=!e&&e!==0&&x;if(typeof R!="function")throw new TypeError("Expected a function");e=+e||0;var E=!!(c=c||{}).leading,F=!("trailing"in c)||!!c.trailing,m="maxWait"in c,D="debounceOnServer"in c&&!!c.debounceOnServer,g=m?Math.max(+c.maxWait||0,e):null;u.useEffect(function(){return s.current=!0,function(){s.current=!1}},[]);var O=u.useMemo(function(){var h=function(r){var n=a.current,w=o.current;return a.current=o.current=null,f.current=r,l.current=A.current.apply(w,n)},p=function(r,n){v&&cancelAnimationFrame(t.current),t.current=v?requestAnimationFrame(r):setTimeout(r,n)},M=function(r){if(!s.current)return!1;var n=r-i.current;return!i.current||n>=e||n<0||m&&r-f.current>=g},T=function(r){return t.current=null,F&&a.current?h(r):(a.current=o.current=null,l.current)},y=function r(){var n=Date.now();if(M(n))return T(n);if(s.current){var w=e-(n-i.current),S=m?Math.min(w,g-(n-f.current)):w;p(r,S)}},d=function(){if(x||D){var r=Date.now(),n=M(r);if(a.current=[].slice.call(arguments),o.current=b,i.current=r,n){if(!t.current&&s.current)return f.current=i.current,p(y,e),E?h(i.current):l.current;if(m)return p(y,e),h(i.current)}return t.current||p(y,e),l.current}};return d.cancel=function(){t.current&&(v?cancelAnimationFrame(t.current):clearTimeout(t.current)),f.current=0,a.current=i.current=o.current=t.current=null},d.isPending=function(){return!!t.current},d.flush=function(){return t.current?T(Date.now()):l.current},d},[E,m,e,g,F,v,x,D]);return O}export{q as c};
