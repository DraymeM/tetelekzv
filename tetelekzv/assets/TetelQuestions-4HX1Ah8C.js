const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardLink-Bwi74a1a.js","assets/index-BrSagbY1.js","assets/index-BbTb6aK5.css"])))=>i.map(i=>d[i]);
import{K as k,u as y,b as w,r as a,j as e,O as z,a as m,g as L,d as P,_ as T}from"./index-BrSagbY1.js";import{u as _}from"./useLocation-2uzm-Rch.js";import{u as O}from"./useQuery-xx4Ekc8P.js";import{h as S}from"./repo-2S77ZS6a.js";import{P as q}from"./PageTransition-DTP7qrgg.js";import{O as A}from"./OfflinePlaceholder-B8YUC2_J.js";import{u as $}from"./useOnlineStatus-CmLRnTUX.js";import{L as F,P as f}from"./PaginationControls-BUvqX_r7.js";function E(o){return k({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3"},child:[]},{tag:"path",attr:{d:"m16 2 6 6"},child:[]},{tag:"path",attr:{d:"M12 16H4"},child:[]}]})(o)}const I=a.lazy(()=>T(()=>import("./CardLink-Bwi74a1a.js"),__vite__mapDeps([0,1,2])));function R(){const{id:o}=y({strict:!1}),s=Number(o),{isAuthenticated:p}=w(),g=$(),c=_(),[i,n]=a.useState(1),[r,j]=a.useState(35),b=!isNaN(s)&&s>0,{data:u,error:x,isLoading:v,status:N}=O({queryKey:["tetelQuestions",s,i,r],queryFn:()=>S({tetelId:s,page:i,limit:r}),enabled:b,staleTime:1e3*60*5,refetchOnWindowFocus:!1});if(c.pathname.includes("/questions/")&&c.pathname!==`/tetelek/${s}/questions`)return e.jsx(z,{});if(x)return g?e.jsxs("div",{className:"text-center text-red-500",children:["Hiba: ",x.message]}):e.jsx(A,{});const h=u?.data??[],d=u?.total??0;return e.jsx(a.Suspense,{children:e.jsxs("div",{className:"text-center",children:[e.jsxs(q,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 px-4",children:[e.jsxs(m,{to:"/tetelek/$id",params:{id:s.toString()},className:"inline-flex items-center px-3 py-2 border border-border rounded-md text-sm font-medium text-muted-foreground hover:bg-muted hover:text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors","aria-label":"Vissza a tételhez",title:"Vissza a tételhez",children:[e.jsx(L,{className:"mr-2"}),"Vissza"]}),e.jsx("h2",{className:"text-3xl font-bold",children:"Kérdések"}),e.jsx("div",{className:"w-[100px]"})," "]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between md:gap-4 px-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 mx-auto",children:e.jsx(F,{limit:r,setLimit:t=>{n(1),j(t)}})}),e.jsx("div",{className:"flex-grow flex justify-center mx-auto md:mr-8",children:e.jsx(f,{page:i,setPage:n,total:d,limit:r})}),e.jsxs("div",{className:"flex-shrink-0 mx-auto p-2 text-foreground bg-secondary rounded-md shadow-lg text-sm",children:["Összes: ",e.jsx("span",{className:"text-primary font-bold",children:d})]})]}),e.jsx("div",{className:"min-h-[60dvh]",children:v?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mx-2 mb-8",children:[...Array(4)].map((t,l)=>e.jsx("div",{className:"rounded-md border-2 border-transparent bg-secondary p-5 shadow-sm min-h-[140px] animate-pulse"},l))}):N==="success"&&h.length===0?e.jsx("p",{className:"p-4 mx-auto max-w-[98dvw] bg-secondary shadow-md rounded-md transition text-foreground duration-300 border-transparent hover:border-muted-foreground border-2 cursor-pointer transform",children:"Nincsenek még kérdések ehhez a tételhez."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mx-2 mb-8",children:h.map((t,l)=>e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"rounded-md border-2 border-transparent bg-secondary p-5 shadow-sm min-h-[140px] animate-pulse"}),children:e.jsx(I,{id:l+1,title:t.question,to:`/tetelek/${s}/questions/${t.id}`})},t.id))})}),e.jsx(f,{page:i,setPage:n,total:d,limit:r})]}),e.jsx(m,{to:"/tetelek/$id/questions/test",params:{id:s.toString()},className:"fixed md:bottom-2 bottom-14 right-2 p-3 bg-violet-600 text-white rounded-full hover:bg-violet-700 transition-all transform hover:scale-105 flex items-center justify-center",title:"Teszteld magad",children:e.jsx(E,{size:20})}),p&&e.jsx(m,{to:"/tetelek/$id/questions/add",params:{id:s.toString()},className:"fixed md:bottom-16 bottom-28 right-2 p-3 bg-emerald-600 text-white rounded-full hover:bg-green-700 transition-all transform hover:scale-105 flex items-center justify-center",title:"Adj hozzá saját kérdést",children:e.jsx(P,{size:20})})]})})}export{R as T};
