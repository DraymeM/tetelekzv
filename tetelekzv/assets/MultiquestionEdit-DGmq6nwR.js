const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MultiQuestionForm-CGQZQfnE.js","assets/index-D_4NgPiQ.js","assets/index-q81Uz_al.css","assets/index-mSkvzYyn.js"])))=>i.map(i=>d[i]);
import{u as f,d as j,b as y,r as u,y as a,j as s,S as o,N as g,R as p,_ as Q}from"./index-D_4NgPiQ.js";import{u as v}from"./useQuery-Bk4mPWGm.js";import{u as b}from"./useMutation-bO0wthVb.js";import{l as M,j as N}from"./repo-53gTb-oo.js";import{P as q}from"./PageTransition-CmfkvZ8j.js";const _=p.lazy(()=>Q(()=>import("./MultiQuestionForm-CGQZQfnE.js"),__vite__mapDeps([0,1,2,3]))),K=()=>{const{id:l}=f({strict:!1}),e=Number(l),c=j(),r=y(),[m,n]=u.useState(!1),{data:t,isLoading:d}=v({queryKey:["multiQuestions",e],queryFn:()=>N(e),enabled:!isNaN(e)}),i=b({mutationFn:x=>M(e,x),onMutate:()=>n(!0),onSuccess:()=>{r.invalidateQueries({queryKey:["multiQuestion",e]}),r.invalidateQueries({queryKey:["multiQuestions"]}),a.success("Kérdés frissítve!"),setTimeout(()=>c({to:`/mquestions/${e}`}),2e3)},onError:()=>{a.error("Nem sikerült frissíteni a kérdést."),n(!1)}});return d?s.jsx(o,{}):s.jsxs(s.Fragment,{children:[s.jsx(g,{}),s.jsxs(q,{children:[m&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:s.jsx(o,{})}),s.jsx(u.Suspense,{children:s.jsx("div",{className:"max-w-4xl mx-auto mt-10",children:s.jsx(_,{onSubmit:i.mutate,isPending:i.isPending,initialQuestion:t==null?void 0:t.question,initialAnswers:t==null?void 0:t.answers,submitLabel:"Mentés",formLabel:"Kérdés szerkesztése",successMessage:i.isSuccess?"Kérdés sikeresen frissítve!":null})})})]})]})};export{K as M};
