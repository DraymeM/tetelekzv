const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TetelForm-BHFwfEtR.js","assets/index-Devi4yYS.js","assets/index-DBzWI3Al.css","assets/SubmitButton-blNto2aN.js","assets/InputField-BwGDGN5j.js"])))=>i.map(i=>d[i]);
import{r as s,b as f,d as j,j as e,S as u,R as p,_ as g}from"./index-Devi4yYS.js";import{u as v}from"./useMutation-BqAPE7zp.js";import{c as T}from"./repo-Br9-sPjB.js";const _=p.lazy(()=>g(()=>import("./TetelForm-BHFwfEtR.js"),__vite__mapDeps([0,1,2,3,4]))),h=()=>{const[c,r]=s.useState(null),[m,n]=s.useState(null),[d,a]=s.useState(!1),x=f(),S=j(),o=v({mutationFn:t=>T(t),onMutate:()=>{a(!0)},onSuccess:()=>{x.invalidateQueries({queryKey:["tetelek"]}),n("Sikeres mentés!"),setTimeout(()=>{n(null),S({to:"/tetelek"}),a(!1)},3e3)},onError:t=>{var i,l;r(((l=(i=t.response)==null?void 0:i.data)==null?void 0:l.error)||"Hiba"),a(!1)}}),b=t=>{r(null),o.mutate(t)};return e.jsx(s.Suspense,{fallback:e.jsx(u,{}),children:e.jsxs("div",{className:"relative",children:[d&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:e.jsx(u,{})}),e.jsx(_,{onSubmit:b,isPending:o.isPending,error:c,success:m,label:"Új Tétel",submitLabel:"Tétel Létrehozása"})]})})};export{h as T};
