const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MultiQuestionForm-BIkFWk7E.js","assets/index-NwrGM-P6.js","assets/index-LojOYYw_.css","assets/types-CZYGTQuY.js"])))=>i.map(i=>d[i]);
import{b as y,g as j,f as p,r as a,y as o,j as e,S as u,R as g,_ as Q}from"./index-NwrGM-P6.js";import{u as q}from"./useQuery-BXM0KwjG.js";import{u as v}from"./useMutation-Dztidm4_.js";import{l as b,j as k}from"./repo-Esx1YiU5.js";import{N as M}from"./Navbar-hr4SqBrg.js";import{O as N}from"./OfflinePlaceholder-DAWkdWrj.js";import{u as h}from"./useOnlineStatus-BA9DVo6w.js";import{P}from"./PageTransition-DJKPOuyw.js";const S=g.lazy(()=>Q(()=>import("./MultiQuestionForm-BIkFWk7E.js"),__vite__mapDeps([0,1,2,3]))),$=()=>{const{id:l}=y({from:"/tetelek/$id/questions/$qid"}),s=Number(l),m=j(),t=p(),[c,r]=a.useState(!1),d=h(),{data:n,isLoading:f}=q({queryKey:["multiQuestions",s],queryFn:()=>k(s),enabled:!isNaN(s)}),i=v({mutationFn:x=>b(s,x),onMutate:()=>r(!0),onSuccess:()=>{t.invalidateQueries({queryKey:["multiQuestion",s]}),t.invalidateQueries({queryKey:["multiQuestions"]}),t.invalidateQueries({queryKey:["tetelQuestions"]}),o.success("Kérdés frissítve!"),setTimeout(()=>m({to:`/tetelek/$id/questions/${s}`}),2e3)},onError:()=>{o.error("Nem sikerült frissíteni a kérdést."),r(!1)}});return f?e.jsx(u,{}):d?e.jsxs(e.Fragment,{children:[e.jsx(M,{}),e.jsxs(P,{children:[c&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:e.jsx(u,{})}),e.jsx(a.Suspense,{children:e.jsx("div",{className:"max-w-4xl mx-auto mt-10",children:e.jsx(S,{onSubmit:i.mutate,isPending:i.isPending,initialQuestion:n?.question,initialAnswers:n?.answers,submitLabel:"Mentés",formLabel:"Kérdés szerkesztése",successMessage:i.isSuccess?"Kérdés sikeresen frissítve!":null})})})]})]}):e.jsx(e.Fragment,{children:e.jsx(N,{})})};export{$ as M};
