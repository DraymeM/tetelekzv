const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FormContainer-nVODM-K_.js","assets/index-DNiFvfeI.js","assets/index-BvcWFGXJ.css","assets/InputField-BCXCKn0G.js","assets/SubmitButton-D5usY7mF.js"])))=>i.map(i=>d[i]);
import{f as O,r,j as e,R as d,_ as f,y as S}from"./index-DNiFvfeI.js";import{r as C}from"./repo-06h-nJQE.js";import{O as F}from"./OfflinePlaceholder-Bql1SMz_.js";import{u as I}from"./useOnlineStatus-CDr2juVZ.js";import{P as L}from"./PageTransition-Xf4wLMEY.js";import{o as N,s as u}from"./types-CZYGTQuY.js";const D=d.lazy(()=>f(()=>import("./FormContainer-nVODM-K_.js"),__vite__mapDeps([0,1,2]))),m=d.lazy(()=>f(()=>import("./InputField-BCXCKn0G.js"),__vite__mapDeps([3,1,2]))),A=d.lazy(()=>f(()=>import("./SubmitButton-D5usY7mF.js"),__vite__mapDeps([4,1,2]))),H=()=>{const b=O(),[n,g]=r.useState(""),[i,p]=r.useState(""),[w,h]=r.useState(""),[E,v]=r.useState(null),[y,P]=r.useState(null),[R,l]=r.useState(!1),[c,x]=r.useState({}),[a,t]=r.useState({}),z=I(),k=N({username:u().min(3,"Legalább 3 karakter"),password:u().min(6,"Legalább 6 karakter"),confirmPassword:u()}).refine(s=>s.password===s.confirmPassword,{message:"Nem egyeznek a jelszavak!",path:["confirmPassword"]}),T=async s=>{s.preventDefault(),v(null),P(null),l(!0),t({username:!0,password:!0,confirmPassword:!0});const _=k.safeParse({username:n,password:i,confirmPassword:w});if(!_.success){const o={};_.error.issues.forEach(j=>{o[j.path[0]]=j.message}),x(o),l(!1);return}try{await C(n,i),P("Sikeres Regiszráció!"),S.success("Sikeres regisztráció!"),g(""),p(""),h(""),x({}),t({}),b({to:"/login"})}catch(o){v(o instanceof Error?o.message:"Registration failed"),S.error("Nems sikerült a regisztráció!")}finally{l(!1)}};return z?e.jsx(r.Suspense,{children:e.jsx(L,{children:e.jsx("div",{children:e.jsx("div",{className:"max-w-2xl mx-auto items-center h-screen pb-55 pt-30 justify-center overflow-hidden",children:e.jsx(D,{error:E,success:y,label:"Register",children:e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsx(m,{id:"username",label:"Felhasználónév",value:n,onChange:s=>{g(s.target.value),t({...a,username:!0})},error:a.username?c.username:void 0}),e.jsx(m,{id:"password",label:"Jelszó",value:i,onChange:s=>{p(s.target.value),t({...a,password:!0})},enablePasswordToggle:!0,error:a.password?c.password:void 0}),e.jsx(m,{id:"confirm password",label:"Jelszó megerősítése",value:w,onChange:s=>{h(s.target.value),t({...a,confirmPassword:!0})},enablePasswordToggle:!0,error:a.confirmPassword?c.confirmPassword:void 0}),e.jsx(A,{isPending:R,label:"Register"})]})})})})})}):e.jsx(e.Fragment,{children:e.jsx(F,{})})};export{H as R};
