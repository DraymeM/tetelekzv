const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardLink-DYwdiB-v.js","assets/index-DNhYfZVa.js","assets/index-5GsZzLaf.css"])))=>i.map(i=>d[i]);
import{m as v,u as N,b as k,r as a,j as e,O as y,S as z,a as l,g as L,d as w,_ as P}from"./index-DNhYfZVa.js";import{u as S}from"./useLocation-BnAQNzQs.js";import{u as T}from"./useQuery-B90wnf1T.js";import{h as F}from"./repo-I0R3ESGW.js";import{P as O}from"./PageTransition-CKedCoC9.js";import{O as _}from"./OfflinePlaceholder-BfCSPmJv.js";import{u as q}from"./useOnlineStatus-CFArgxL8.js";import{L as $,P as h}from"./PaginationControls-BdOT6ZUs.js";function A(n){return v({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3"},child:[]},{tag:"path",attr:{d:"m16 2 6 6"},child:[]},{tag:"path",attr:{d:"M12 16H4"},child:[]}]})(n)}const E=a.lazy(()=>P(()=>import("./CardLink-DYwdiB-v.js"),__vite__mapDeps([0,1,2])));function M(){const{id:n}=N({strict:!1}),t=Number(n),{isAuthenticated:f}=k(),g=q(),c=S(),[i,o]=a.useState(1),[r,p]=a.useState(35),j=!isNaN(t)&&t>0,{data:m,isLoading:b,error:u}=T({queryKey:["tetelQuestions",t,i,r],queryFn:()=>F({tetelId:t,page:i,limit:r}),enabled:j,staleTime:1e3*60*5,refetchOnWindowFocus:!1});if(c.pathname.includes("/questions/")&&c.pathname!==`/tetelek/${t}/questions`)return e.jsx(y,{});if(b)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-10 text-center",children:e.jsx(z,{})})});if(u)return g?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center mt-10 text-red-500",children:["Hiba: ",u.message]})}):e.jsx(e.Fragment,{children:e.jsx(_,{})});const x=m?.data??[],d=m?.total??0;return e.jsx(a.Suspense,{children:e.jsxs("div",{className:"text-center pt-20",children:[e.jsxs(O,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 px-4",children:[e.jsxs(l,{to:"/tetelek/$id",params:{id:t.toString()},className:"inline-flex items-center px-3 py-2 border border-border rounded-md text-sm font-medium text-muted-foreground hover:bg-muted hover:text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors","aria-label":"Vissza a tételhez",title:"Vissza a tételhez",children:[e.jsx(L,{className:"mr-2"}),"Vissza"]}),e.jsx("h2",{className:"text-3xl font-bold",children:"Kérdések"}),e.jsx("div",{className:"w-[100px]"})," "]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between md:gap-4 px-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 mx-auto",children:e.jsx($,{limit:r,setLimit:s=>{o(1),p(s)}})}),e.jsx("div",{className:"flex-grow flex justify-center mx-auto md:mr-8",children:e.jsx(h,{page:i,setPage:o,total:d,limit:r})}),e.jsxs("div",{className:"flex-shrink-0 px-2 mx-auto text-muted-foreground text-sm",children:["Összes: ",d]})]}),e.jsx("div",{className:"min-h-[60dvh]",children:x.length===0?e.jsx("p",{className:"p-4 bg-secondary shadow-md rounded-md transition text-foreground duration-300 border-transparent hover:border-muted-foreground border-2 cursor-pointer transform",children:"Nincsenek kérdések ehhez a tételhez."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mx-2 mb-8",children:x.map(s=>e.jsx(E,{id:s.id,title:s.question,to:`/tetelek/${t}/questions/${s.id}`},s.id))})}),e.jsx(h,{page:i,setPage:o,total:d,limit:r})]}),e.jsx(l,{to:"/tetelek/$id/questions/test",params:{id:t.toString()},className:"fixed bottom-7 right-7 p-3 bg-violet-600 text-white rounded-full hover:bg-violet-700 transition-all transform hover:scale-105 flex items-center justify-center",title:"Teszteld magad",children:e.jsx(A,{size:20})}),f&&e.jsx(l,{to:"/tetelek/$id/questions/add",params:{id:t.toString()},className:"fixed bottom-20 right-7 p-3 bg-emerald-600 text-white rounded-full hover:bg-green-700 transition-all transform hover:scale-105 flex items-center justify-center",title:"Adj hozzá saját kérdést",children:e.jsx(w,{size:20})})]})})}export{M as T};
