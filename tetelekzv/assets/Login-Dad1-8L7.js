const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FormContainer-DJ2_9kYL.js","assets/index-CcgwBqJ8.js","assets/index-CHYqi3PZ.css","assets/InputField-DS0_v7lA.js","assets/SubmitButton-Dm2xpmSJ.js"])))=>i.map(i=>d[i]);
import{b as k,f as L,r as s,j as e,R as d,_ as m,g as f}from"./index-CcgwBqJ8.js";import{z as u}from"./index-mSkvzYyn.js";import{L as R}from"./link-gbpF_jv7.js";const I=d.lazy(()=>m(()=>import("./FormContainer-DJ2_9kYL.js"),__vite__mapDeps([0,1,2]))),_=d.lazy(()=>m(()=>import("./InputField-DS0_v7lA.js"),__vite__mapDeps([3,1,2]))),N=d.lazy(()=>m(()=>import("./SubmitButton-Dm2xpmSJ.js"),__vite__mapDeps([4,1,2]))),D=()=>{const{login:z}=k(),b=L(),[l,w]=s.useState(""),[i,p]=s.useState(""),[y,c]=s.useState(!1),[h,v]=s.useState({}),[a,n]=s.useState({}),E=u.object({username:u.string().min(1,"Kötelező mező"),password:u.string().min(1,"Kötelező mező")}),S=async t=>{var j,x;t.preventDefault(),c(!0),n({username:!0,password:!0});const g=E.safeParse({username:l,password:i});if(!g.success){const o={};g.error.issues.forEach(r=>{o[r.path[0]]=r.message}),v(o),c(!1);return}try{await z(l,i),f.success("Sikeres bejelentkezés!"),b({to:"/"})}catch(o){const r=((x=(j=o.response)==null?void 0:j.data)==null?void 0:x.error)||"Bejelentkezési hiba",P=r==="Invalid credentials"?"Hibás felhasználónév vagy jelszó":r;f.error(P)}finally{c(!1),p(""),v({}),n({})}};return e.jsx(s.Suspense,{children:e.jsx("div",{children:e.jsx("div",{className:"max-w-2xl mx-auto items-center h-screen pb-50 pt-35 justify-center overflow-hidden",children:e.jsx(I,{error:null,success:null,label:"Bejelentkezés",children:e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsx(_,{label:"Felhasználónév",value:l,onChange:t=>{w(t.target.value),n({...a,username:!0})},error:a.username?h.username:void 0}),e.jsx(_,{label:"Jelszó",value:i,onChange:t=>{p(t.target.value),n({...a,password:!0})},enablePasswordToggle:!0,error:a.password?h.password:void 0}),e.jsx(N,{isPending:y,label:"Bejelentkezés"}),e.jsx("div",{className:"text-left mt-2",children:e.jsx(R,{to:"/register",className:"text-md text-teal-400 hover:underline",children:"Nincs fiókod? Regisztrálj"})})]})})})})})};export{D as L};
