import{r as s,D as b,aa as I,R as o,x as D,aR as ne,A as P,a8 as ae,K as se,aS as le,ae as oe,Q as R,aI as ue,B as ce,G as F,aT as ie,M as de,j as c,n as fe,av as me}from"./index-DaQSTSUC.js";import{$ as pe,a as he,w as ge,e as be}from"./use-resolve-button-type-DzkbLxqW.js";import{Q as xe,K as ve,u as ye,I as $e}from"./label-CbXk6Fcd.js";import{r as Ce}from"./bugs-DpEN4NTH.js";function Se(e,r,t){let[n,a]=s.useState(t),l=e!==void 0,i=s.useRef(l),u=s.useRef(!1),d=s.useRef(!1);return l&&!i.current&&!u.current?(u.current=!0,i.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&i.current&&!d.current&&(d.current=!0,i.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?e:n,b(m=>(l||a(m),r==null?void 0:r(m)))]}function Ee(e){let[r]=s.useState(e);return r}function L(e={},r=null,t=[]){for(let[n,a]of Object.entries(e))H(t,O(r,n),a);return t}function O(e,r){return e?e+"["+r+"]":r}function H(e,r,t){if(Array.isArray(t))for(let[n,a]of t.entries())H(e,O(r,n.toString()),a);else t instanceof Date?e.push([r,t.toISOString()]):typeof t=="boolean"?e.push([r,t?"1":"0"]):typeof t=="string"?e.push([r,t]):typeof t=="number"?e.push([r,`${t}`]):t==null?e.push([r,""]):L(t,r,e)}function ke(e){var r,t;let n=(r=e==null?void 0:e.form)!=null?r:e.closest("form");if(n){for(let a of n.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(t=n.requestSubmit)==null||t.call(n)}}let Ne=s.createContext(null);function je({children:e}){let r=s.useContext(Ne);if(!r)return o.createElement(o.Fragment,null,e);let{target:t}=r;return t?ae.createPortal(o.createElement(o.Fragment,null,e),t):null}function Te({data:e,form:r,disabled:t,onReset:n,overrides:a}){let[l,i]=s.useState(null),u=I();return s.useEffect(()=>{if(n&&l)return u.addEventListener(l,"reset",n)},[l,r,n]),o.createElement(je,null,o.createElement(we,{setForm:i,formId:r}),L(e).map(([d,m])=>o.createElement(D,{features:P.Hidden,...ne({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,disabled:t,name:d,value:m,...a})})))}function we({setForm:e,formId:r}){return s.useEffect(()=>{if(r){let t=document.getElementById(r);t&&e(t)}},[e,r]),r?null:o.createElement(D,{features:P.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let n=t.closest("form");n&&e(n)}})}let C=s.createContext(null);C.displayName="GroupContext";let Fe=s.Fragment;function Ie(e){var r;let[t,n]=s.useState(null),[a,l]=ve(),[i,u]=oe(),d=s.useMemo(()=>({switch:t,setSwitch:n}),[t,n]),m={},$=e,x=R();return o.createElement(u,{name:"Switch.Description",value:i},o.createElement(l,{name:"Switch.Label",value:a,props:{htmlFor:(r=d.switch)==null?void 0:r.id,onClick(v){t&&(v.currentTarget instanceof HTMLLabelElement&&v.preventDefault(),t.click(),t.focus({preventScroll:!0}))}}},o.createElement(C.Provider,{value:d},x({ourProps:m,theirProps:$,slot:{},defaultTag:Fe,name:"Switch.Group"}))))}let De="button";function Pe(e,r){var t;let n=s.useId(),a=ye(),l=ue(),{id:i=a||`headlessui-switch-${n}`,disabled:u=l||!1,checked:d,defaultChecked:m,onChange:$,name:x,value:v,form:K,autoFocus:y=!1,...U}=e,S=s.useContext(C),[A,G]=s.useState(null),M=s.useRef(null),B=ce(M,r,S===null?null:S.setSwitch,G),p=Ee(m),[h,g]=Se(d,$,p??!1),V=I(),[E,k]=s.useState(!1),N=b(()=>{k(!0),g==null||g(!h),V.nextFrame(()=>{k(!1)})}),q=b(f=>{if(Ce(f.currentTarget))return f.preventDefault();f.preventDefault(),N()}),z=b(f=>{f.key===F.Space?(f.preventDefault(),N()):f.key===F.Enter&&ke(f.currentTarget)}),Q=b(f=>f.preventDefault()),_=$e(),J=ie(),{isFocusVisible:j,focusProps:W}=pe({autoFocus:y}),{isHovered:T,hoverProps:X}=he({isDisabled:u}),{pressed:w,pressProps:Y}=ge({disabled:u}),Z=s.useMemo(()=>({checked:h,disabled:u,hover:T,focus:j,active:w,autofocus:y,changing:E}),[h,T,j,w,u,E,y]),ee=de({id:i,ref:B,role:"switch",type:be(e,A),tabIndex:e.tabIndex===-1?0:(t=e.tabIndex)!=null?t:0,"aria-checked":h,"aria-labelledby":_,"aria-describedby":J,disabled:u||void 0,autoFocus:y,onClick:q,onKeyUp:z,onKeyPress:Q},W,X,Y),te=s.useCallback(()=>{if(p!==void 0)return g==null?void 0:g(p)},[g,p]),re=R();return o.createElement(o.Fragment,null,x!=null&&o.createElement(Te,{disabled:u,data:{[x]:v||"on"},overrides:{type:"checkbox",checked:h},form:K,onReset:te}),re({ourProps:ee,theirProps:U,slot:Z,defaultTag:De,name:"Switch"}))}let Re=se(Pe),Le=Ie,Oe=xe,He=le,Ke=Object.assign(Re,{Group:Le,Label:Oe,Description:He});const Be=({answer:e,index:r,updateAnswer:t,fieldErrors:n,touched:a})=>c.jsx(s.Suspense,{children:c.jsxs("div",{className:"flex flex-col space-y-1 mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("span",{className:"text-secondary-foreground w-8 font-medium",children:[String.fromCharCode(65+r),"."]}),c.jsx("input",{type:"text",value:e.text,onChange:l=>t(r,"text",l.target.value),className:`flex-1 p-3 border rounded-lg bg-secondary text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition ${a&&n?"border-red-500":"border-border"} animate-in fade-in duration-300`,placeholder:`VÃ¡lasz ${r+1}`}),c.jsx(Ke,{checked:e.isCorrect,onChange:l=>t(r,"isCorrect",l),className:`${e.isCorrect?"bg-primary":"bg-muted"} relative inline-flex h-6 w-11 items-center hover:cursor-pointer rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary animate-in fade-in duration-300`,children:c.jsx("span",{className:`${e.isCorrect?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform bg-white rounded-full transition-transform`})}),c.jsx("span",{className:"text-muted-foreground text-lg",children:e.isCorrect?c.jsx(fe,{className:"text-green-500"}):c.jsx(me,{className:"text-red-500"})})]}),a&&n&&c.jsx("p",{className:"text-red-500 text-sm ml-11 animate-in fade-in duration-200",children:n})]})});export{Be as default};
