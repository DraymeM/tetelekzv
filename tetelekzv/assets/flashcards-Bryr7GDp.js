import{r as o,j as e,N as p}from"./index-B1_Yp93M.js";import{u as j,b as g}from"./repo-B7fpUdLf.js";import{F as N}from"./FlashCard-CNOzmj_2.js";import{u as v,T as E}from"./useTimer-DQVMAAQo.js";function T(){const{data:t,isLoading:m,error:i}=j({queryKey:["allQuestions"],queryFn:g}),[s,c]=o.useState(null),n=()=>{if(!t||t.length===0)return;let r=s;for(;r===s;)r=Math.floor(Math.random()*t.length);c(r)},{timerEnabled:l,setTimerEnabled:x,timerDuration:u,setTimerDuration:d,timeLeft:f,setTimeLeft:h}=v(()=>{n()});if(o.useEffect(()=>{t&&s===null&&n()},[t]),m)return e.jsx("div",{className:"p-10 text-center",children:"Loading…"});if(i instanceof Error)return e.jsxs("div",{className:"p-10 text-center text-red-500",children:["Error: ",i.message]});const a=s!==null?t==null?void 0:t[s]:null;return e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsxs("main",{className:"flex flex-col items-center justify-center min-h-screen max-w-4xl mx-auto p-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Villámkérdések"}),a&&e.jsxs("div",{className:"flex flex-col items-center gap-6 w-full max-w-2xl",children:[e.jsx(N,{question:a.question,answer:a.answer}),e.jsx(E,{onNext:n,timerEnabled:l,setTimerEnabled:x,timerDuration:u,setTimerDuration:r=>{d(r),h(r)}}),l&&e.jsxs("div",{className:"text-gray-400 text-sm mt-4",children:["Következő kérdés ",f," másodperc múlva"]})]})]})]})}const C=T;export{C as component};
