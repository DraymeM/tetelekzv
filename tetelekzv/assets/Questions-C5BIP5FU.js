const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardLink-DX9HigPM.js","assets/index-BT5olunS.js","assets/index-CNDMz1Av.css","assets/link-B2bN1KjX.js"])))=>i.map(i=>d[i]);
import{j as e,z as v,r as c,a as N,b as y,O as k,S as p,h as w,d as z,_ as F}from"./index-BT5olunS.js";import{L as b}from"./link-B2bN1KjX.js";import{u as L}from"./useQuery-B2tX-dpz.js";import{b as _}from"./repo-DL4fAiI8.js";import{N as j}from"./Navbar-BE0Cl1aM.js";import{P as C}from"./PageTransition-BU5ysc6Q.js";import{H as P,a as T,b as I}from"./index-D7p_jCC_.js";import{t as u}from"./menu-DqZ9UPV4.js";const M=[5,15,35,50];function O({limit:r,setLimit:a}){return e.jsx(u,{as:"div",className:"relative inline-block text-left",children:({open:o})=>e.jsxs(e.Fragment,{children:[e.jsxs(u.Button,{className:"inline-flex justify-center hover:cursor-pointer items-center rounded-md border border-border shadow-sm px-4 py-2 bg-secondary text-sm font-medium hover:bg-muted focus:outline-none",children:["Limit: ",r,e.jsx(P,{className:`ml-2 h-4 w-4 transition-transform duration-200 ${o?"rotate-180":""}`})]}),e.jsx(v,{as:c.Fragment,enter:"transition ease-out duration-100",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx(u.Items,{className:"absolute hover:cursor-pointer right-0 z-10 mt-2 w-26 origin-top-right bg-secondary border border-border divide-y divide-muted rounded-md shadow-lg focus:outline-none",children:M.map(i=>e.jsx(u.Item,{as:c.Fragment,children:({active:s})=>e.jsx("button",{className:`${s?"bg-muted text-primary":"text-foreground"} block w-full text-center px-4 py-2 text-sm hover:cursor-pointer`,onClick:()=>a(i),children:i})},i))})})]})})}function g({page:r,setPage:a,total:o,limit:i}){const s=Math.ceil(o/i),x=()=>{const t=[];if(s<=5)return Array.from({length:s},(d,m)=>m+1);t.push(1),r>3&&t.push("...");const n=Math.max(2,r-1),h=Math.min(s-1,r+1);for(let d=n;d<=h;d++)t.push(d);return r<s-2&&t.push("..."),t.push(s),t};return e.jsxs("div",{className:"flex justify-center items-center space-x-2 my-6",children:[e.jsx("button",{className:"p-2 rounded border bg-muted disabled:opacity-50 hover:cursor-pointer",onClick:()=>a(t=>Math.max(1,t-1)),disabled:r===1,"aria-label":"Previous page",children:e.jsx(T,{size:17})}),x().map((t,n)=>typeof t=="number"?e.jsx("button",{onClick:()=>a(t),className:`px-3 py-1 rounded text-md hover:cursor-pointer ${r===t?"bg-teal-600 text-white":"border bg-muted hover:bg-muted/70"}`,children:t},n):e.jsx("span",{className:"px-2 text-muted-foreground text-sm",children:t},n)),e.jsx("button",{className:"p-2 rounded border bg-muted disabled:opacity-50",onClick:()=>a(t=>Math.min(s,t+1)),disabled:r===s,"aria-label":"Next page",children:e.jsx(I,{size:17})})]})}const S=c.lazy(()=>F(()=>import("./CardLink-DX9HigPM.js"),__vite__mapDeps([0,1,2,3])));function K(){const{id:r}=N({strict:!1}),{isAuthenticated:a}=y(),[o,i]=c.useState(1),[s,x]=c.useState(35),t=!r,{data:n,isLoading:h,error:d}=L({queryKey:["multiQuestions",o,s],queryFn:()=>_({page:o,limit:s}),enabled:t,staleTime:1e3*60*5,refetchOnWindowFocus:!1});if(r||location.pathname.includes("pmchq"))return e.jsx(k,{});if(h)return e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsx("div",{className:"p-10 text-center",children:e.jsx(p,{})})]});if(d instanceof Error)return e.jsxs("div",{className:"text-center mt-10 text-red-500",children:["Hiba: ",d.message]});const m=n?.data??[],f=n?.total??0;return e.jsx(c.Suspense,{fallback:e.jsx(p,{}),children:e.jsxs("div",{className:"text-center pt-20",children:[e.jsx(j,{}),e.jsxs(C,{children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Kérdések"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between md:gap-4 px-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 mx-auto",children:e.jsx(O,{limit:s,setLimit:l=>{i(1),x(l)}})}),e.jsx("div",{className:"flex-grow flex justify-center mx-auto md:mr-8",children:e.jsx(g,{page:o,setPage:i,total:f,limit:s})}),e.jsxs("div",{className:"flex-shrink-0 px-2 mx-auto text-muted-foreground text-sm",children:["Összes: ",f]})]}),e.jsx("div",{className:"min-h-[60dvh]",children:m.length===0?e.jsx("p",{className:"p-4 bg-secondary shadow-md rounded-md transition text-foreground duration-300 border-transparent hover:border-muted-foreground border-2 cursor-pointer transform",children:"Nincsenek kérdések még."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mx-2 mb-8",children:m.map(l=>e.jsx(S,{id:l.id,title:l.question,to:`/mquestions/${l.id}`},l.id))})}),e.jsx(g,{page:o,setPage:i,total:f,limit:s})]}),e.jsx(b,{to:"/mchoiceq",className:"fixed bottom-7 right-7 p-3 bg-amber-600 text-white rounded-full hover:bg-amber-700 transition-all transform hover:scale-105 flex items-center justify-center",title:"Random kérdések",children:e.jsx(w,{size:20})}),a&&e.jsx(b,{to:"/pmchq",className:"fixed bottom-24 right-7 p-3 bg-emerald-600 text-white rounded-full hover:bg-green-700 transition-all transform hover:scale-105 flex items-center justify-center",title:"Adj hozzá saját kérdést",children:e.jsx(z,{size:20})})]})})}export{K as Q};
