const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MultiQuestionForm-BIkFWk7E.js","assets/index-NwrGM-P6.js","assets/index-LojOYYw_.css","assets/types-CZYGTQuY.js"])))=>i.map(i=>d[i]);
import{b as p,g as j,f as g,r as n,y as l,j as e,S as u,R as h,_ as v}from"./index-NwrGM-P6.js";import{u as N}from"./useMutation-Dztidm4_.js";import{h as b}from"./repo-Esx1YiU5.js";import{N as c}from"./Navbar-hr4SqBrg.js";import{O as k}from"./OfflinePlaceholder-DAWkdWrj.js";import{u as y}from"./useOnlineStatus-BA9DVo6w.js";import{P as S}from"./PageTransition-DJKPOuyw.js";import"./index-BGB11LLy.js";const z=h.lazy(()=>v(()=>import("./MultiQuestionForm-BIkFWk7E.js"),__vite__mapDeps([0,1,2,3]))),M=()=>{const{id:o}=p({strict:!1}),r=Number(o),m=j(),d=g(),[x,i]=n.useState(!1),f=y(),a=N({mutationFn:s=>b({question:s.question,answers:s.answers.map(t=>({text:t.text,isCorrect:t.isCorrect}))},r),onMutate:()=>i(!0),onSuccess:()=>{d.invalidateQueries({queryKey:["tetelQuestions",r]}),l.success("Kérdés létrehozva!"),setTimeout(()=>{m({to:"/tetelek/$id/questions",params:{id:o??""}}),i(!1)},200)},onError:s=>{const t=s?.response?.data?.error||"Nem sikerült a kérdés létrehozása!";l.error(t),console.error("Error creating question:",t,s),i(!1)}});return f?!o||isNaN(r)||r<=0?e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsx("div",{className:"text-center mt-10 text-red-500",children:"Érvénytelen tétel ID"})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs(S,{children:[x&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:e.jsx(u,{})}),e.jsx(n.Suspense,{fallback:e.jsx(u,{}),children:e.jsx("div",{className:"max-w-4xl mx-auto items-center mt-10",children:e.jsx(z,{onSubmit:a.mutate,isPending:a.isPending,submitLabel:"Kérdés Létrehozása",formLabel:"Új Felelet Választós Kérdés",successMessage:a.isSuccess?"Kérdés létrehozva!":null,errorMessage:a.error?"Nem sikerült a kérdés létrehozása":null})})})]})]}):e.jsx(k,{})},Q=M;export{Q as component};
