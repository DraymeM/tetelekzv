const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MultiQuestionForm-LMRUq69s.js","assets/index-C0Fg1H1H.js","assets/index-CF_iyIGy.css","assets/types-CZYGTQuY.js"])))=>i.map(i=>d[i]);
import{u as x,f as y,e as p,r as a,y as u,j as e,S as g,R as q,_ as Q}from"./index-C0Fg1H1H.js";import{u as j}from"./useQuery-DraQ-A76.js";import{u as v}from"./useMutation-DHIKlFSK.js";import{j as k,g as M}from"./repo-CpeVcUY7.js";import{O as S}from"./OfflinePlaceholder-COO-2YQF.js";import{u as b}from"./useOnlineStatus-BNjoD1h4.js";import{P as h}from"./PageTransition-B2bRsmKk.js";const P=q.lazy(()=>Q(()=>import("./MultiQuestionForm-LMRUq69s.js"),__vite__mapDeps([0,1,2,3]))),I=()=>{const{id:o,qid:l}=x({from:"/tetelek/$id/questions/$qid"}),s=Number(l),m=y(),t=p(),[d,n]=a.useState(!1),c=b(),{data:r}=j({queryKey:["multiQuestions",s],queryFn:()=>M(s),enabled:!isNaN(s)}),i=v({mutationFn:f=>k(s,f),onMutate:()=>n(!0),onSuccess:()=>{t.invalidateQueries({queryKey:["multiQuestion",s]}),t.invalidateQueries({queryKey:["multiQuestions"]}),t.invalidateQueries({queryKey:["tetelQuestions"]}),u.success("Kérdés frissítve!"),m({to:"/tetelek/$id/questions/$qid",params:{id:o,qid:String(s)}})},onError:()=>{u.error("Nem sikerült frissíteni a kérdést."),n(!1)}});return c?e.jsx(e.Fragment,{children:e.jsxs(h,{children:[d&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:e.jsx(g,{})}),e.jsx(a.Suspense,{children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(P,{onSubmit:i.mutate,isPending:i.isPending,initialQuestion:r?.question,initialAnswers:r?.answers,submitLabel:"Mentés",formLabel:"Kérdés szerkesztése",successMessage:i.isSuccess?"Kérdés sikeresen frissítve!":null})})})]})}):e.jsx(e.Fragment,{children:e.jsx(S,{})})};export{I as M};
