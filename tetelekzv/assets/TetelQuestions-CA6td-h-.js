const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardLink-bt3981Xr.js","assets/index-DIxBzota.js","assets/index-Ba7vPGC1.css"])))=>i.map(i=>d[i]);
import{K as v,u as N,b as k,r as a,j as e,O as y,a as l,g as w,d as z,_ as L}from"./index-DIxBzota.js";import{u as P}from"./useLocation-CzZwow3l.js";import{u as T}from"./useQuery-DL4HnUFU.js";import{h as O}from"./repo-CDFxhs3-.js";import{P as S}from"./PageTransition-C6AlueE5.js";import{O as _}from"./OfflinePlaceholder-B3DKf6Jg.js";import{u as q}from"./useOnlineStatus-CyqbNrE_.js";import{L as F,P as h}from"./PaginationControls-BwBXBt0s.js";function $(o){return v({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3"},child:[]},{tag:"path",attr:{d:"m16 2 6 6"},child:[]},{tag:"path",attr:{d:"M12 16H4"},child:[]}]})(o)}const A=a.lazy(()=>L(()=>import("./CardLink-bt3981Xr.js"),__vite__mapDeps([0,1,2])));function H(){const{id:o}=N({strict:!1}),t=Number(o),{isAuthenticated:f}=k(),p=q(),m=P(),[i,n]=a.useState(1),[s,g]=a.useState(35),j=!isNaN(t)&&t>0,{data:c,error:u}=T({queryKey:["tetelQuestions",t,i,s],queryFn:()=>O({tetelId:t,page:i,limit:s}),enabled:j,staleTime:1e3*60*5,refetchOnWindowFocus:!1});if(m.pathname.includes("/questions/")&&m.pathname!==`/tetelek/${t}/questions`)return e.jsx(y,{});if(u)return p?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center mt-10 text-red-500",children:["Hiba: ",u.message]})}):e.jsx(e.Fragment,{children:e.jsx(_,{})});const x=c?.data??[],d=c?.total??0;return e.jsx(a.Suspense,{children:e.jsxs("div",{className:"text-center pt-20",children:[e.jsxs(S,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 px-4",children:[e.jsxs(l,{to:"/tetelek/$id",params:{id:t.toString()},className:"inline-flex items-center px-3 py-2 border border-border rounded-md text-sm font-medium text-muted-foreground hover:bg-muted hover:text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors","aria-label":"Vissza a tételhez",title:"Vissza a tételhez",children:[e.jsx(w,{className:"mr-2"}),"Vissza"]}),e.jsx("h2",{className:"text-3xl font-bold",children:"Kérdések"}),e.jsx("div",{className:"w-[100px]"})," "]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between md:gap-4 px-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 mx-auto",children:e.jsx(F,{limit:s,setLimit:r=>{n(1),g(r)}})}),e.jsx("div",{className:"flex-grow flex justify-center mx-auto md:mr-8",children:e.jsx(h,{page:i,setPage:n,total:d,limit:s})}),e.jsxs("div",{className:"flex-shrink-0 mx-auto p-2 text-foreground bg-secondary rounded-md shadow-lg text-sm",children:["Összes: ",e.jsx("span",{className:"text-primary font-bold",children:d})]})]}),e.jsx("div",{className:"min-h-[60dvh]",children:x.length===0?e.jsx("p",{className:"p-4 mx-auto max-w-[98dvw] bg-secondary shadow-md rounded-md transition text-foreground duration-300 border-transparent hover:border-muted-foreground border-2 cursor-pointer transform",children:"Nincsenek még kérdések ehhez a tételhez."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mx-2 mb-8",children:x.map((r,b)=>e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"rounded-md border-2 border-transparent bg-secondary p-5 shadow-sm min-h-[85px] animate-pulse"}),children:e.jsx(A,{id:b+1,title:r.question,to:`/tetelek/${t}/questions/${r.id}`})},r.id))})}),e.jsx(h,{page:i,setPage:n,total:d,limit:s})]}),e.jsx(l,{to:"/tetelek/$id/questions/test",params:{id:t.toString()},className:"fixed md:bottom-2 bottom-14 right-2 p-3 bg-violet-600 text-white rounded-full hover:bg-violet-700 transition-all transform hover:scale-105 flex items-center justify-center",title:"Teszteld magad",children:e.jsx($,{size:20})}),f&&e.jsx(l,{to:"/tetelek/$id/questions/add",params:{id:t.toString()},className:"fixed md:bottom-16 bottom-28 right-2 p-3 bg-emerald-600 text-white rounded-full hover:bg-green-700 transition-all transform hover:scale-105 flex items-center justify-center",title:"Adj hozzá saját kérdést",children:e.jsx(z,{size:20})})]})})}export{H as T};
