const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MultiQuestionForm-BDOfBc_r.js","assets/index-BQ-Le8Of.js","assets/index-DBzWI3Al.css","assets/index-mSkvzYyn.js"])))=>i.map(i=>d[i]);
import{u as f,d as y,b as j,r as u,y as a,j as s,S as o,N as Q,R as g,_ as p}from"./index-BQ-Le8Of.js";import{u as v}from"./useQuery-Df8i-Hvh.js";import{u as b}from"./useMutation-DiaXxBXJ.js";import{l as M,j as N}from"./repo-4pMOnM0t.js";const q=g.lazy(()=>p(()=>import("./MultiQuestionForm-BDOfBc_r.js"),__vite__mapDeps([0,1,2,3]))),K=()=>{const{id:l}=f({strict:!1}),e=Number(l),c=y(),n=j(),[m,r]=u.useState(!1),{data:t,isLoading:d}=v({queryKey:["multiQuestions",e],queryFn:()=>N(e),enabled:!isNaN(e)}),i=b({mutationFn:x=>M(e,x),onMutate:()=>r(!0),onSuccess:()=>{n.invalidateQueries({queryKey:["multiQuestion",e]}),n.invalidateQueries({queryKey:["multiQuestions"]}),a.success("Kérdés frissítve!"),setTimeout(()=>c({to:`/mquestions/${e}`}),2e3)},onError:()=>{a.error("Nem sikerült frissíteni a kérdést."),r(!1)}});return d?s.jsx(o,{}):s.jsxs(s.Fragment,{children:[s.jsx(Q,{}),m&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:s.jsx(o,{})}),s.jsx(u.Suspense,{children:s.jsx("div",{className:"max-w-4xl mx-auto mt-10",children:s.jsx(q,{onSubmit:i.mutate,isPending:i.isPending,initialQuestion:t==null?void 0:t.question,initialAnswers:t==null?void 0:t.answers,submitLabel:"Mentés",formLabel:"Kérdés szerkesztése",successMessage:i.isSuccess?"Kérdés sikeresen frissítve!":null})})})]})};export{K as M};
