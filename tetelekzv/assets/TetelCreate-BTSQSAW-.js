import{r,d as S,e as p,j as t,S as b}from"./index-Cu8xjkos.js";import{u as g}from"./useMutation-Bu1mF0U_.js";import{T as j}from"./TetelForm-DvFQya1P.js";import{c as T}from"./repo-CAr3lVtz.js";const C=()=>{const[u,a]=r.useState(null),[c,n]=r.useState(null),[m,s]=r.useState(!1),d=S(),f=p(),o=g({mutationFn:e=>T(e),onMutate:()=>{s(!0)},onSuccess:()=>{d.invalidateQueries({queryKey:["tetelek"]}),n("Sikeres mentés!"),setTimeout(()=>{n(null),f({to:"/tetelek"}),s(!1)},3e3)},onError:e=>{var i,l;a(((l=(i=e.response)==null?void 0:i.data)==null?void 0:l.error)||"Hiba"),s(!1)}}),x=e=>{a(null),o.mutate(e)};return t.jsxs("div",{className:"relative",children:[m&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:t.jsx(b,{})}),t.jsx(j,{onSubmit:x,isPending:o.isPending,error:u,success:c,label:"Új Tétel",submitLabel:"Tétel Létrehozása"})]})};export{C as T};
