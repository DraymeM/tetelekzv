const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TetelForm-CERCHkLX.js","assets/index-NwrGM-P6.js","assets/index-LojOYYw_.css","assets/types-CZYGTQuY.js","assets/InputField-BMPVLiac.js","assets/PageTransition-DJKPOuyw.js","assets/index-Dl3OoZZo.js"])))=>i.map(i=>d[i]);
import{r as s,f as x,g as j,j as e,S as p,R as S,_ as g}from"./index-NwrGM-P6.js";import{u as b}from"./useMutation-Dztidm4_.js";import{c as v}from"./repo-Esx1YiU5.js";import{N as h}from"./Navbar-hr4SqBrg.js";import{O as T}from"./OfflinePlaceholder-DAWkdWrj.js";import{u as _}from"./useOnlineStatus-BA9DVo6w.js";const y=S.lazy(()=>g(()=>import("./TetelForm-CERCHkLX.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),F=()=>{const[o,n]=s.useState(null),[l,a]=s.useState(null),[u,r]=s.useState(!1),c=x(),m=j(),d=_(),i=b({mutationFn:t=>v(t),onMutate:()=>{r(!0)},onSuccess:()=>{c.invalidateQueries({queryKey:["tetelek"]}),a("Sikeres mentés!"),setTimeout(()=>{a(null),m({to:"/tetelek"}),r(!1)},3e3)},onError:t=>{n(t.response?.data?.error||"Hiba"),r(!1)}}),f=t=>{n(null),i.mutate(t)};return d?e.jsxs(e.Fragment,{children:[e.jsx(h,{}),e.jsx(s.Suspense,{children:e.jsxs("div",{className:"relative",children:[u&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:e.jsx(p,{})}),e.jsx(y,{onSubmit:f,isPending:i.isPending,error:o,success:l,label:"Új Tétel",submitLabel:"Tétel Létrehozása"})]})})]}):e.jsx(e.Fragment,{children:e.jsx(T,{})})};export{F as T};
