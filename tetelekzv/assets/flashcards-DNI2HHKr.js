import{r as o,j as e,N as h}from"./index-B_u5r9M_.js";import{u as j}from"./useQuery-Tv21ZQDc.js";import{F as g}from"./FlashCard-DmznqDjN.js";import{u as N,T as v}from"./useTimer-CzOBi_Nk.js";import{a as E}from"./repo-F8sGPoHO.js";import"./index-cNbRpIzP.js";function T(){const{data:t,isLoading:m,error:i}=j({queryKey:["allQuestions"],queryFn:E}),[s,c]=o.useState(null),n=()=>{if(!t||t.length===0)return;let r=s;for(;r===s;)r=Math.floor(Math.random()*t.length);c(r)},{timerEnabled:l,setTimerEnabled:x,timerDuration:u,setTimerDuration:d,timeLeft:f,setTimeLeft:p}=N(()=>{n()});if(o.useEffect(()=>{t&&s===null&&n()},[t]),m)return e.jsx("div",{className:"p-10 text-center",children:"Loading…"});if(i instanceof Error)return e.jsxs("div",{className:"p-10 text-center text-red-500",children:["Error: ",i.message]});const a=s!==null?t==null?void 0:t[s]:null;return e.jsxs(e.Fragment,{children:[e.jsx(h,{}),e.jsxs("main",{className:"flex flex-col items-center justify-center min-h-screen max-w-4xl mx-auto p-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Villámkérdések"}),a&&e.jsxs("div",{className:"flex flex-col items-center gap-6 w-full max-w-2xl",children:[e.jsx(g,{question:a.question,answer:a.answer}),e.jsx(v,{onNext:n,timerEnabled:l,setTimerEnabled:x,timerDuration:u,setTimerDuration:r=>{d(r),p(r)}}),l&&e.jsxs("div",{className:"text-gray-400 text-sm mt-4",children:["Következő kérdés ",f," másodperc múlva"]})]})]})]})}const L=T;export{L as component};
