import{r as u,j as e,b9 as b,z as f,bk as p}from"./index-BrSagbY1.js";const g=({voices:s,selectedVoice:a,isDropdownOpen:t,setDropdownOpen:c,searchTerm:i,setSearchTerm:m,handleVoiceChange:d,isLoadingVoices:o})=>{const n=u.useRef(null);u.useEffect(()=>{t&&n.current&&n.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[t]);const x=s.filter(r=>r.name.toLowerCase().includes(i.toLowerCase()));return e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-foreground",children:"Voice"}),e.jsxs("button",{onClick:()=>c(!t),className:"relative w-full rounded-md border border-border bg-muted px-3 py-2 text-sm text-foreground flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-primary","aria-haspopup":"listbox","aria-expanded":t,disabled:o,children:[e.jsx("span",{className:"truncate",children:o?"Loading voices...":a?s.find(r=>r.name===a)?.name:"Default"}),e.jsx(b,{size:15,className:`ml-2 transition-transform duration-300 ${t?"rotate-180":"rotate-0"} ${o?"opacity-50":""}`})]}),e.jsx(f,{show:t,enter:"transition ease-out duration-150",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-100",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:e.jsxs("div",{className:"absolute z-50 mt-1 w-full max-h-50 rounded-md border border-border bg-popover shadow-lg text-sm focus:outline-none flex flex-col",children:[e.jsxs("div",{className:"flex items-center border-b min-h-8 border-border rounded-t-md overflow-hidden text-md bg-background px-1 py-1",children:[e.jsx("button",{type:"button",className:"pr-3 pl-1 py-2 min-h-5 bg-background border-r border-border text-foreground","aria-label":"Search",children:e.jsx(p,{size:14})}),e.jsx("input",{type:"text",value:i,onChange:r=>m(r.target.value),placeholder:"Search...",className:"flex-grow px-3 py-2 text-sm text-foreground bg-background focus:outline-none"})]}),e.jsxs("ul",{role:"listbox",className:"overflow-auto max-h-[14rem]",children:[e.jsx("li",{role:"option","aria-selected":!a,onClick:()=>d(void 0),className:`px-3 py-2 cursor-pointer select-none ${a?"hover:bg-muted":"bg-muted text-foreground"}`,children:"Default"}),x.map(r=>{const l=a===r.name;return e.jsxs("li",{role:"option",ref:l?n:null,"aria-selected":l,onClick:()=>d(r.name),className:`px-3 py-2 cursor-pointer select-none ${l?"bg-muted text-foreground":"hover:bg-muted"}`,children:[r.name," (",r.lang,")"," ",r.localService?"[Offline]":"[Online]"]},r.name)})]})]})})]})};export{g as default};
