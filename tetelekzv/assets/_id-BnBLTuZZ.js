import{u as v,r as m,j as e,N,L as w,ad as x,ac as F,G as u,W as z}from"./index-B_u5r9M_.js";import{u as k}from"./useQuery-Tv21ZQDc.js";import{b as L}from"./repo-F8sGPoHO.js";import{F as T}from"./FlashCard-DmznqDjN.js";import"./index-cNbRpIzP.js";function C(){const{id:h}=v({strict:!1}),n=Number(h),{data:p,isLoading:g,error:i}=k({queryKey:["tetelDetail",n],queryFn:()=>L(n),enabled:!isNaN(n)}),[a,l]=m.useState(!1),[s,d]=m.useState(0);if(g)return e.jsx("div",{className:"p-10",children:"Loading…"});if(i instanceof Error)return e.jsxs("div",{className:"p-10 text-red-500",children:["Error: ",i.message]});const{tetel:f,osszegzes:c,sections:b,questions:t}=p,y=()=>{if(t.length<2)return;let r=s;for(;r===s;)r=Math.floor(Math.random()*t.length);d(r)},j=()=>{d(Math.floor(Math.random()*t.length)),l(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsxs("main",{className:"relative max-w-6xl mx-auto min-h-screen mt-10 p-10 text-left",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs(w,{to:"/tetelek",className:`inline-flex items-center px-3 py-2 border  border-gray-300 rounded-md\r
                       text-sm font-medium text-gray-400 hover:bg-gray-500 hover:text-white\r
                       focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:[e.jsx(x,{className:"mr-2"}),"Vissza a tételekhez"]}),!a&&t.length>0&&e.jsxs("button",{onClick:j,className:`inline-flex items-center px-3 py-2 border bg-purple-600 border-purple-500 \r
                         rounded-md text-sm font-medium text-white \r
                         hover:bg-purple-700 hover:cursor-pointer focus:outline-none focus:ring-2 focus:ring-purple-500`,children:[e.jsx(F,{className:"mr-2"}),"Tanulás"]})]}),e.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:f.name}),e.jsx(u,{show:!a,as:"div",enter:"transition-opacity duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsxs("div",{children:[b.map(r=>e.jsxs("div",{className:`bg-gray-800 shadow-md rounded-md p-4 mb-6\r
                           border-2 border-transparent hover:border-gray-400\r
                           transition duration-300`,children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-100",children:r.content}),r.subsections.map(o=>e.jsxs("div",{className:"bg-gray-700 rounded-md p-3 mb-3 ml-4",children:[e.jsx("h4",{className:"font-bold text-gray-100",children:o.title}),e.jsx("p",{className:"text-gray-200",children:o.description})]},o.id))]},r.id)),c&&e.jsxs("div",{className:`bg-gray-800 shadow-md rounded-md p-4 mb-6\r
                           border-2 border-transparent hover:border-gray-400\r
                           transition duration-300`,children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2 text-gray-100",children:"Összegzés"}),e.jsx("hr",{className:"border-gray-600 mb-4"}),e.jsx("p",{className:"text-gray-100",children:c.content})]})]})}),e.jsx(u,{show:a,as:"div",enter:"transition-opacity duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsxs("div",{className:"flex flex-col items-center gap-6",children:[e.jsx(T,{question:t[s].question,answer:t[s].answer}),e.jsxs("button",{onClick:y,className:`inline-flex items-center px-4 py-2 bg-orange-500 text-white \r
                         rounded-md hover:bg-orange-400 focus:outline-none hover:cursor-pointer focus:ring-2 \r
                         focus:ring-orange-500`,children:[e.jsx(z,{className:"mr-2 animate-spin"}),"Következő kérdés"]}),e.jsxs("button",{onClick:()=>l(!1),className:`inline-flex items-center px-3 py-2 border border-gray-300 rounded-md\r
                         text-sm font-medium text-gray-400 cursor-pointer\r
                         hover:bg-gray-500 hover:text-white\r
                         focus:outline-none focus:ring-2 focus:ring-indigo-500`,children:[e.jsx(x,{className:"mr-2"}),"Vissza a tételhez"]})]})})]})]})}const I=C;export{I as component};
