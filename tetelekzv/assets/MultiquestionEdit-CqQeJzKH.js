const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MultiQuestionForm-felfv20b.js","assets/index-T2y7T9f9.js","assets/index-DXpQFr3M.css","assets/types-CZYGTQuY.js"])))=>i.map(i=>d[i]);
import{b as j,g as p,f as g,r as a,y as o,j as s,S as u,R as y,_ as Q}from"./index-T2y7T9f9.js";import{u as v}from"./useQuery-3U0MuJa1.js";import{u as b}from"./useMutation-EXYSPziM.js";import{l as M,j as N}from"./repo-CZfOB8Ou.js";import{N as h}from"./Navbar-oboYmZBc.js";import{O as q}from"./OfflinePlaceholder-DdAa7frD.js";import{u as P}from"./useOnlineStatus-4ReRS2BE.js";import{P as S}from"./PageTransition-tWocLthg.js";const _=y.lazy(()=>Q(()=>import("./MultiQuestionForm-felfv20b.js"),__vite__mapDeps([0,1,2,3]))),w=()=>{const{id:l}=j({strict:!1}),e=Number(l),m=p(),i=g(),[c,r]=a.useState(!1),d=P(),{data:n,isLoading:f}=v({queryKey:["multiQuestions",e],queryFn:()=>N(e),enabled:!isNaN(e)}),t=b({mutationFn:x=>M(e,x),onMutate:()=>r(!0),onSuccess:()=>{i.invalidateQueries({queryKey:["multiQuestion",e]}),i.invalidateQueries({queryKey:["multiQuestions"]}),o.success("Kérdés frissítve!"),setTimeout(()=>m({to:`/mquestions/${e}`}),2e3)},onError:()=>{o.error("Nem sikerült frissíteni a kérdést."),r(!1)}});return f?s.jsx(u,{}):d?s.jsxs(s.Fragment,{children:[s.jsx(h,{}),s.jsxs(S,{children:[c&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:s.jsx(u,{})}),s.jsx(a.Suspense,{children:s.jsx("div",{className:"max-w-4xl mx-auto mt-10",children:s.jsx(_,{onSubmit:t.mutate,isPending:t.isPending,initialQuestion:n?.question,initialAnswers:n?.answers,submitLabel:"Mentés",formLabel:"Kérdés szerkesztése",successMessage:t.isSuccess?"Kérdés sikeresen frissítve!":null})})})]})]}):s.jsx(s.Fragment,{children:s.jsx(q,{})})};export{w as M};
