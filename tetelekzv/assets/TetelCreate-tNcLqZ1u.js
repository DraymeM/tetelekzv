const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TetelForm-zNdhXHpd.js","assets/index-D_4NgPiQ.js","assets/index-q81Uz_al.css","assets/index-mSkvzYyn.js","assets/InputField-Djok8YlM.js"])))=>i.map(i=>d[i]);
import{r as s,b as S,d as b,j as e,N as p,S as f,R as g,_ as v}from"./index-D_4NgPiQ.js";import{u as T}from"./useMutation-bO0wthVb.js";import{c as _}from"./repo-53gTb-oo.js";const y=g.lazy(()=>v(()=>import("./TetelForm-zNdhXHpd.js"),__vite__mapDeps([0,1,2,3,4]))),N=()=>{const[u,a]=s.useState(null),[c,n]=s.useState(null),[m,r]=s.useState(!1),d=S(),x=b(),i=T({mutationFn:t=>_(t),onMutate:()=>{r(!0)},onSuccess:()=>{d.invalidateQueries({queryKey:["tetelek"]}),n("Sikeres mentés!"),setTimeout(()=>{n(null),x({to:"/tetelek"}),r(!1)},3e3)},onError:t=>{var o,l;a(((l=(o=t.response)==null?void 0:o.data)==null?void 0:l.error)||"Hiba"),r(!1)}}),j=t=>{a(null),i.mutate(t)};return e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(s.Suspense,{children:e.jsxs("div",{className:"relative",children:[m&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:e.jsx(f,{})}),e.jsx(y,{onSubmit:j,isPending:i.isPending,error:u,success:c,label:"Új Tétel",submitLabel:"Tétel Létrehozása"})]})})]})};export{N as T};
