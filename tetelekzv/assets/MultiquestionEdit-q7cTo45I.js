const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MultiQuestionForm-BKmFjpFc.js","assets/index-CcgwBqJ8.js","assets/index-CHYqi3PZ.css","assets/index-mSkvzYyn.js"])))=>i.map(i=>d[i]);
import{a as x,f as g,e as j,r as a,g as o,j as s,S as u,R as p,_ as y}from"./index-CcgwBqJ8.js";import{u as Q}from"./useQuery-CPPNeXKm.js";import{u as v}from"./useMutation-NyWmaYyF.js";import{l as b,j as M}from"./repo-BcJvpRJZ.js";import{N}from"./Navbar-Dl1heMU1.js";import{P as q}from"./PageTransition-DQrU03lL.js";const _=p.lazy(()=>y(()=>import("./MultiQuestionForm-BKmFjpFc.js"),__vite__mapDeps([0,1,2,3]))),z=()=>{const{id:l}=x({strict:!1}),e=Number(l),m=g(),r=j(),[c,n]=a.useState(!1),{data:t,isLoading:d}=Q({queryKey:["multiQuestions",e],queryFn:()=>M(e),enabled:!isNaN(e)}),i=v({mutationFn:f=>b(e,f),onMutate:()=>n(!0),onSuccess:()=>{r.invalidateQueries({queryKey:["multiQuestion",e]}),r.invalidateQueries({queryKey:["multiQuestions"]}),o.success("Kérdés frissítve!"),setTimeout(()=>m({to:`/mquestions/${e}`}),2e3)},onError:()=>{o.error("Nem sikerült frissíteni a kérdést."),n(!1)}});return d?s.jsx(u,{}):s.jsxs(s.Fragment,{children:[s.jsx(N,{}),s.jsxs(q,{children:[c&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(25, 25, 30, 0.3)"},children:s.jsx(u,{})}),s.jsx(a.Suspense,{children:s.jsx("div",{className:"max-w-4xl mx-auto mt-10",children:s.jsx(_,{onSubmit:i.mutate,isPending:i.isPending,initialQuestion:t==null?void 0:t.question,initialAnswers:t==null?void 0:t.answers,submitLabel:"Mentés",formLabel:"Kérdés szerkesztése",successMessage:i.isSuccess?"Kérdés sikeresen frissítve!":null})})})]})]})};export{z as M};
