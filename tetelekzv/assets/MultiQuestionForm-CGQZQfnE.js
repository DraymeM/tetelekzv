const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AnswerInput-CZ-v6wy5.js","assets/index-D_4NgPiQ.js","assets/index-q81Uz_al.css","assets/use-resolve-button-type-Dj2DKaZ2.js","assets/label-DGkviK8e.js","assets/bugs-DpEN4NTH.js","assets/QuestionInput-B_wltlux.js","assets/FormContainer-D3D2QreJ.js","assets/SubmitButton-BdNmb-Lk.js"])))=>i.map(i=>d[i]);
import{r as o,j as r,R as u,_ as i}from"./index-D_4NgPiQ.js";import{z as a}from"./index-mSkvzYyn.js";const C=u.lazy(()=>i(()=>import("./AnswerInput-CZ-v6wy5.js"),__vite__mapDeps([0,1,2,3,4,5]))),R=u.lazy(()=>i(()=>import("./QuestionInput-B_wltlux.js"),__vite__mapDeps([6,1,2]))),I=u.lazy(()=>i(()=>import("./FormContainer-D3D2QreJ.js"),__vite__mapDeps([7,1,2]))),D=u.lazy(()=>i(()=>import("./SubmitButton-BdNmb-Lk.js"),__vite__mapDeps([8,1,2]))),L=a.object({text:a.string().min(1,"A válasz szövege nem lehet üres"),isCorrect:a.boolean()}),w=a.object({question:a.string().min(1,"A kérdés megadása kötelező"),answers:a.array(L).length(4,"Pontosan négy válasz szükséges").refine(c=>c.some(m=>m.isCorrect),{message:"Legalább egy válasznak helyesnek kell lennie"})}),F=({onSubmit:c,isPending:m,initialQuestion:E="",initialAnswers:b=[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}],successMessage:x,errorMessage:g,submitLabel:j,formLabel:v})=>{const[l,z]=o.useState(E),[n,y]=o.useState(b),[_,A]=o.useState({question:void 0,answers:[null,null,null,null]}),[d,p]=o.useState({question:!1,answers:[!1,!1,!1,!1]});o.useEffect(()=>{const e=w.safeParse({question:l,answers:n}),s={question:void 0,answers:[null,null,null,null]};e.success||e.error.errors.forEach(t=>{t.path[0]==="question"?s.question=t.message:t.path[0]==="answers"&&typeof t.path[1]=="number"&&(s.answers[t.path[1]]=t.message)}),A(s)},[l,n]);const S=(e,s,t)=>{const f=[...n];f[e]={...f[e],[s]:t},y(f),p(h=>({...h,answers:h.answers.map((q,P)=>P===e?!0:q)}))},k=e=>{if(e.preventDefault(),!w.safeParse({question:l,answers:n}).success){p({question:!0,answers:[!0,!0,!0,!0]});return}c({question:l,answers:n})};return r.jsx(o.Suspense,{children:r.jsx(I,{error:g??null,success:x??null,label:v,children:r.jsxs("form",{onSubmit:k,className:"space-y-6",children:[r.jsx(R,{question:l,setQuestion:z,fieldErrors:_,touched:d}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Válaszok"}),n.map((e,s)=>r.jsx(C,{answer:e,index:s,updateAnswer:S,fieldErrors:_.answers[s],touched:d.answers[s]},s))]}),r.jsx(D,{isPending:m,label:j})]})})})};export{L as answerSchema,F as default,w as multiQuestionSchema};
